import React, { useEffect } from "react";

const legalCss = `
  :root { --fg:#111; --muted:#555; --border:#e5e5e5; --bg:#fff; --accent:#0b57d0; }
  .legal-page { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:var(--fg); background:var(--bg); margin:0; }
  .legal-page main { max-width: 980px; margin: 0 auto; padding: 24px 18px 64px; line-height: 1.55; }
  .legal-page h1 { font-size: 28px; margin: 0 0 8px; }
  .legal-page .meta { color: var(--muted); margin: 0 0 18px; }
  .legal-page h2 { font-size: 20px; margin-top: 28px; padding-top: 10px; border-top: 1px solid var(--border); }
  .legal-page h3 { font-size: 16px; margin-top: 18px; }
  .legal-page p { margin: 10px 0; }
  .legal-page ul, .legal-page ol { margin: 10px 0 10px 22px; }
  .legal-page li { margin: 6px 0; }
  .legal-page .box { border: 1px solid var(--border); padding: 14px 14px; border-radius: 10px; background: #fafafa; }
  .legal-page .warn { border-left: 4px solid #d93025; padding-left: 12px; }
  .legal-page .ok { border-left: 4px solid #188038; padding-left: 12px; }
  .legal-page code { background:#f6f8fa; padding:2px 6px; border-radius:6px; }
  .legal-page a { color: var(--accent); text-decoration: none; }
  .legal-page a:hover { text-decoration: underline; }
  .legal-page .toc a { display: inline-block; padding: 2px 0; }
  .legal-page .small { font-size: 13px; color: var(--muted); }
  .legal-page hr { border:none; border-top:1px solid var(--border); margin: 22px 0; }
`;

const legalContentHtml = String.raw`
<main>
  <h1>Общи условия, Политика за поверителност (GDPR) и Политика за бисквитки</h1>
  <p class="meta">
    За платформата <strong>www.kar.bg</strong> („Платформата“).<br />
    <strong>В сила от:</strong> <em>[ДД.ММ.ГГГГ]</em> &nbsp;|&nbsp;
    <strong>Последна актуализация:</strong> <em>[ДД.ММ.ГГГГ]</em>
  </p>

  <div class="box">
    <p><strong>ДАННИ ЗА ОПЕРАТОРА / АДМИНИСТРАТОРА</strong></p>
    <ul>
      <li><strong>Търговско наименование:</strong> <em>[Име на дружеството]</em></li>
      <li><strong>Правноорганизационна форма:</strong> <em>[ООД/ЕООД]</em></li>
      <li><strong>ЕИК:</strong> <em>[ЕИК]</em></li>
      <li><strong>Седалище и адрес на управление:</strong> <em>[Адрес]</em></li>
      <li><strong>Имейл за контакт:</strong> <em>[email@domain.com]</em></li>
      <li><strong>Телефон:</strong> <em>[+359...]</em></li>
    </ul>
    <p class="small">
      Забележка: Платформата предоставя техническа услуга за публикуване и визуализиране на обяви. Kar.bg не е страна по сделки
      между Потребителите, освен ако изрично не е посочено друго.
    </p>
  </div>

  <h2 id="toc">Съдържание</h2>
  <ol class="toc">
    <li><a href="#terms">ОБЩИ УСЛОВИЯ</a></li>
    <li><a href="#privacy">ПОЛИТИКА ЗА ПОВЕРИТЕЛНОСТ (GDPR)</a></li>
    <li><a href="#cookies">ПОЛИТИКА ЗА БИСКВИТКИ</a></li>
  </ol>

  <hr />

  <h2 id="terms">ОБЩИ УСЛОВИЯ</h2>

  <h3>1. Дефиниции</h3>
  <ul>
    <li><strong>„Kar.bg“</strong> – дружеството, посочено по-горе, собственик/оператор на Платформата.</li>
    <li><strong>„Платформа“</strong> – уебсайтът www.kar.bg и свързаните му функционалности.</li>
    <li><strong>„Потребител“</strong> – всяко лице, което посещава или използва Платформата.</li>
    <li><strong>„Регистриран потребител“</strong> – Потребител с активен акаунт.</li>
    <li><strong>„Частно лице“</strong> – Регистриран потребител, който публикува обяви инцидентно, извън търговска дейност.</li>
    <li><strong>„Дилър/Бизнес потребител“</strong> – Регистриран потребител, който публикува обяви във връзка с търговска/професионална дейност.</li>
    <li><strong>„Обява“</strong> – публикация (текст/снимки/данни) за конкретен обект (МПС/част/услуга и др.).</li>
    <li><strong>„Платени услуги“</strong> – услуги за промотиране/позициониране (VIP/TOP/акцентиране/обновяване и др.).</li>
    <li><strong>„Съдържание“</strong> – всички материали, публикувани от Потребители или Kar.bg (вкл. текстове, снимки, видео, метаданни).</li>
  </ul>

  <h3>2. Приемане на Общите условия</h3>
  <p>2.1. С достъпа до Платформата Потребителят потвърждава, че е запознат и се съгласява с настоящите Общи условия.</p>
  <p>2.2. Ако Потребителят не приема Общите условия, следва да преустанови използването на Платформата.</p>
  <p>2.3. Kar.bg може да изисква изрично потвърждение (чекбокс/бутон „Приемам“) при регистрация и/или покупка на Платени услуги.</p>

  <h3>3. Предмет на услугата. Роля на Kar.bg</h3>
  <p>3.1. Kar.bg предоставя техническа услуга за публикуване, съхранение, индексиране и визуализация на Обяви.</p>
  <p>3.2. Kar.bg <strong>не</strong> е посредник по смисъла на брокер/дилър на МПС и <strong>не</strong> е страна по договори между Потребители. Всякакви преговори, договорки и сделки се извършват директно между Потребителите.</p>
  <p>3.3. Kar.bg не извършва предварителна проверка и не гарантира истинността/точността на информацията в Обявите, освен ако изрично не е посочено друго.</p>

  <h3>4. Регистрация и акаунт</h3>
  <p>4.1. За публикуване на Обяви и използване на определени функционалности е необходима регистрация.</p>
  <p>4.2. Потребителят се задължава да предоставя вярна, точна и актуална информация.</p>
  <p>4.3. Потребителят е отговорен за всички действия, извършени чрез акаунта му. Потребителят следва да пази данните за достъп и да уведомява незабавно Kar.bg при съмнение за нерегламентиран достъп.</p>
  <p>4.4. Kar.bg има право да откаже регистрация, да ограничи функционалности или да прекрати акаунт при нарушение на тези условия или при съмнение за злоупотреба.</p>

  <h3>5. Публикуване на Обяви – изисквания и забрани</h3>
  <p>5.1. Всяка Обява следва да се отнася до <strong>един</strong> конкретен обект/предмет на офертата.</p>
  <p>5.2. Потребителят гарантира, че има право да публикува Съдържанието (вкл. снимки/текст) и че същото не нарушава права на трети лица.</p>
  <p>5.3. Забранено е публикуването на Обяви или Съдържание, които:</p>
  <ul>
    <li>съдържат невярна, подвеждаща или непълна информация, която може да заблуди потребителите;</li>
    <li>нарушават законодателството на Република България или права на трети лица (вкл. авторски права, търговски марки);</li>
    <li>съдържат обидни, дискриминационни, порнографски, насилствени или клеветнически елементи;</li>
    <li>представляват спам, фишинг, злонамерен софтуер, или включват опасни линкове/скриптове;</li>
    <li>съдържат скрита реклама, несвързана с предмета на Обявата, или опити за заобикаляне на функционалности/такси.</li>
  </ul>
  <p>5.4. Kar.bg си запазва правото да редактира технически/формално (напр. категория, липсващи полета), да деактивира или изтрие Обяви при:</p>
  <ul>
    <li>несъответствие с тези условия;</li>
    <li>получен сигнал за нарушение;</li>
    <li>установена злоупотреба или риск за потребителите/системата.</li>
  </ul>

  <h3>6. Статус на обявите. Период на видимост</h3>
  <p>6.1. Kar.bg може да определя правила за срок на видимост, обновяване и архивиране на Обяви, както и за ограничения при безплатни функционалности (ако се предлагат).</p>
  <p>6.2. Kar.bg може да прилага модерация (предварителна или последваща), включително да поставя акаунти в режим „модерация“ при системни нарушения.</p>

  <h3>7. Платени услуги (VIP/TOP и др.)</h3>
  <p>7.1. Kar.bg предлага Платени услуги за по-видимо/приоритетно позициониране на Обяви, включително (но не само) VIP и TOP.</p>
  <p>7.2. Описанията, сроковете и цените на Платените услуги се публикуват в Платформата и са част от договора за услуга.</p>
  <p>7.3. Платените услуги се активират след успешно плащане и техническа обработка. Kar.bg може да откаже активиране при нарушение на тези условия (напр. забранено съдържание).</p>
  <p>7.4. <strong>Невъзстановяване на суми:</strong> Освен ако приложимото законодателство не предвижда друго, заплатените суми за Платени услуги не се възстановяват, включително ако:</p>
  <ul>
    <li>Обявата бъде изтрита/деактивирана поради нарушение на Общите условия;</li>
    <li>Потребителят изтрие Обявата или прекрати акаунта си след активиране на услугата;</li>
    <li>част от срока на услугата е изтекъл.</li>
  </ul>
  <p>7.5. Kar.bg не гарантира конкретен брой прегледи/контакти/продажба – услугите са рекламни/позициониращи.</p>

  <h3>8. Плащания, фактуриране, баланс</h3>
  <p>8.1. Плащанията се извършват чрез методите, налични в Платформата (напр. банков превод/онлайн плащане чрез оператор и др.).</p>
  <p>8.2. При използване на външни платежни доставчици, Kar.bg не носи отговорност за технически проблеми/забавяния, причинени от тях, но ще съдейства разумно при проверка.</p>
  <p>8.3. Ако Платформата поддържа „баланс/портфейл“, той представлява предплатен кредит за услуги и <strong>не</strong> е банкова сметка или електронни пари.</p>
  <p>8.4. При установена явна техническа грешка при начисляване/таксуване, Потребителят следва да уведоми Kar.bg на <em>[email@domain.com]</em> без неоправдано забавяне.</p>

  <h3>9. ПРАВО НА ОТКАЗ (ЗЗП) – платени услуги с незабавно изпълнение</h3>
  <div class="box warn">
    <p>9.1. Ако Потребителят е <strong>потребител</strong> по смисъла на Закона за защита на потребителите (ЗЗП), по принцип разполага с право на отказ от договор от разстояние в 14-дневен срок, освен в изрично предвидените от закона изключения.</p>
    <p>9.2. Платените услуги (VIP/TOP/акцентиране/обновяване и др.) са услуги, които започват да се изпълняват незабавно след плащане (активиране/позициониране на Обявата).</p>
    <p>9.3. С извършване на плащането Потребителят <strong>изрично</strong>:</p>
    <ul>
      <li>заявява желание услугата да започне незабавно; и</li>
      <li>потвърждава, че е информиран, че след започване на изпълнението губи правото си на отказ, доколкото законът допуска това за конкретната услуга.</li>
    </ul>
    <p>9.4. След активиране/започване на изпълнението на платената услуга, платената сума не подлежи на възстановяване, освен ако приложимото законодателство предвижда друго.</p>
    <p class="small">
      Техническо изискване: при плащане следва да има отделна отметка (без предварително маркиране), напр.:
      <br /><code>☐ Съгласен съм услугата да започне незабавно и съм информиран, че губя правото си на отказ след активиране.</code>
    </p>
  </div>

  <h3>10. Условия за дилъри (бизнес потребители)</h3>
  <p>10.1. „Дилър“ е лице, което публикува Обяви във връзка с търговска/професионална дейност.</p>
  <p>10.2. Дилърът носи отговорност за спазване на приложимото законодателство, включително (но не само) ЗЗП, ЗЗК, данъчни и счетоводни изисквания, както и за предоставяне на коректна фирмена информация в профила си.</p>
  <p>10.3. Kar.bg може да прилага допълнителни търговски условия/тарифи/пакети за дилъри, публикувани в Платформата или в отделен договор/анекс.</p>

  <h3>11. Интелектуална собственост</h3>
  <p>11.1. Всички права върху дизайна, структурата, софтуера, базите данни и търговските означения на Kar.bg са собственост на Kar.bg или на негови лицензодатели.</p>
  <p>11.2. Потребителят предоставя на Kar.bg неизключително, безвъзмездно (за целите на услугата), прехвърлимо за подизпълнители право да използва публикуваното от него Съдържание за визуализиране, индексиране, промотиране в рамките на Платформата и техническото ѝ функциониране.</p>

  <h3>12. Ограничаване на отговорността</h3>
  <p>12.1. Kar.bg не носи отговорност за качеството, състоянието, правния статус, пробега или произхода на предлаганите обекти, както и за верността на описанията в Обявите.</p>
  <p>12.2. Kar.bg не отговаря за вреди, произтичащи от преговори/сделки между Потребители, включително пропуснати ползи, загуби или претенции на трети лица, освен при умисъл или груба небрежност, доколкото законът допуска ограничаване.</p>
  <p>12.3. Kar.bg не гарантира непрекъсната и безгрешна работа на Платформата и може да извършва планирана поддръжка/актуализации.</p>

  <h3>13. Санкции, спиране на достъп, прекратяване</h3>
  <p>13.1. При нарушение Kar.bg може да предприеме мерки, включително: предупреждение, ограничаване на функционалности, деактивиране/изтриване на Обяви, временно/постоянно спиране на акаунт.</p>
  <p>13.2. При съмнение за злоупотреба (вкл. автоматизирани заявки, скрейпинг, атаки) Kar.bg може да ограничи достъп по IP/устройство/акаунт.</p>

  <h3>14. Промени в условията</h3>
  <p>14.1. Kar.bg може да изменя настоящите условия. Новата версия се публикува в Платформата и влиза в сила от датата на публикуване, освен ако не е посочено друго.</p>
  <p>14.2. Потребителите следва да преглеждат периодично актуализациите.</p>

  <h3>15. Приложимо право и компетентност</h3>
  <p>15.1. Приложимо е законодателството на Република България.</p>
  <p>15.2. Споровете се решават по взаимно съгласие, а при непостигане – от компетентния съд в <em>[град/седалище]</em>, освен ако императивни норми предвиждат друго.</p>

  <hr />

  <h2 id="privacy">ПОЛИТИКА ЗА ПОВЕРИТЕЛНОСТ (GDPR)</h2>

  <h3>1. Администратор и контакти</h3>
  <p>Администратор на лични данни: <strong>[Име на дружеството] [ООД/ЕООД]</strong>, ЕИК <strong>[ЕИК]</strong>, адрес <strong>[Адрес]</strong>.<br />Контакт: <strong>[email@domain.com]</strong> &nbsp;|&nbsp; Тел.: <strong>[+359...]</strong></p>
  <p class="small">Ако имате длъжностно лице по защита на данните (DPO), добавете: <strong>[DPO име/имейл]</strong>.</p>

  <h3>2. Категории лични данни, които обработваме</h3>
  <ul>
    <li><strong>Данни за акаунт:</strong> имейл, телефон (ако се предоставя), име/наименование (по избор), парола (хеширана), настройки на профила.</li>
    <li><strong>Данни за обяви:</strong> съдържание на обяви, снимки, локация/град, данни за контакт, метаданни.</li>
    <li><strong>Технически данни:</strong> IP адрес, логове за сигурност, идентификатори на устройства, информация за браузър/операционна система.</li>
    <li><strong>Платежни/счетоводни данни:</strong> данни за фактуриране (ако се изискват), история на транзакции, статус на плащане. Данни за карти обичайно се обработват от платежния оператор (външен доставчик), не се съхраняват от Kar.bg, освен ако не е изрично посочено.</li>
    <li><strong>Комуникации:</strong> запитвания към поддръжка, кореспонденция, сигнали.</li>
  </ul>

  <h3>3. Цели и правни основания за обработване</h3>
  <p>Обработваме лични данни за следните цели и на следните основания (чл. 6 GDPR):</p>
  <ul>
    <li><strong>Създаване и управление на акаунт</strong> – изпълнение на договор (чл. 6(1)(б)).</li>
    <li><strong>Публикуване и управление на обяви</strong> – изпълнение на договор (чл. 6(1)(б)).</li>
    <li><strong>Предоставяне на платени услуги (VIP/TOP)</strong> – изпълнение на договор (чл. 6(1)(б)); счетоводно/данъчно отчитане – законово задължение (чл. 6(1)(в)).</li>
    <li><strong>Сигурност, предотвратяване на измами/злоупотреби</strong> – легитимен интерес (чл. 6(1)(е)).</li>
    <li><strong>Маркетинг/бюлетин</strong> (ако прилагате) – съгласие (чл. 6(1)(а)) или легитимен интерес при ограничени случаи и при предоставена възможност за отказ.</li>
    <li><strong>Отговор на запитвания</strong> – договор/легитимен интерес (чл. 6(1)(б)/(е)).</li>
  </ul>

  <h3>4. Получатели на данни и обработващи</h3>
  <p>Ваши данни могат да бъдат предоставени на:</p>
  <ul>
    <li><strong>Доставчици на хостинг/инфраструктура</strong>, поддръжка, имейл услуги;</li>
    <li><strong>Платежни оператори</strong> (за обработка на плащания);</li>
    <li><strong>Счетоводни/одиторски услуги</strong> – при необходимост за законово отчитане;</li>
    <li><strong>Държавни органи</strong> – когато е налице законово задължение.</li>
  </ul>
  <p class="small">Kar.bg сключва договори за обработване на данни с обработващите, когато това се изисква от GDPR.</p>

  <h3>5. Трансфери извън ЕИП</h3>
  <p>Ако използвате доставчици извън Европейското икономическо пространство (ЕИП), трансферът се извършва при наличие на подходящи гаранции (например стандартни договорни клаузи), в съответствие с GDPR.</p>

  <h3>6. Срокове за съхранение</h3>
  <ul>
    <li><strong>Данни за акаунт:</strong> до изтриване на акаунта или до изтичане на законови срокове при спор/задължение.</li>
    <li><strong>Счетоводни документи:</strong> до 10 години (или друг приложим законов срок).</li>
    <li><strong>Логове за сигурност:</strong> обичайно до 12 месеца (освен при инцидент/спор).</li>
    <li><strong>Комуникации с поддръжка:</strong> обичайно до 24 месеца (или според нуждата).</li>
  </ul>

  <h3>7. Права на субектите на данни</h3>
  <p>Имате следните права (при условията на GDPR):</p>
  <ul>
    <li>Право на <strong>достъп</strong> до данните;</li>
    <li>Право на <strong>коригиране</strong>;</li>
    <li>Право на <strong>изтриване</strong> („да бъдеш забравен“) – когато е приложимо;</li>
    <li>Право на <strong>ограничаване</strong> на обработването;</li>
    <li>Право на <strong>преносимост</strong>;</li>
    <li>Право на <strong>възражение</strong> срещу обработване на основание легитимен интерес;</li>
    <li>Право на <strong>оттегляне на съгласие</strong> (когато обработването е на това основание);</li>
    <li>Право на <strong>жалба</strong> до Комисията за защита на личните данни (КЗЛД).</li>
  </ul>

  <h3>8. Как да упражните правата си</h3>
  <p>Изпратете искане на <strong>[email@domain.com]</strong> с достатъчно информация за идентификация. Kar.bg може да изиска допълнителни данни за потвърждение на самоличността, когато това е необходимо за сигурност.</p>

  <h3>9. Сигурност</h3>
  <p>Kar.bg прилага подходящи технически и организационни мерки (контрол на достъп, криптиране/хеширане на пароли, логове, резервни копия), с цел защита на данните от неразрешен достъп, загуба или неправомерно разкриване.</p>

  <h3>10. Публичност на данни в обяви</h3>
  <p class="box ok">Информацията, която доброволно публикувате в Обяви (напр. телефон, град, описание), може да бъде публично видима за посетителите на Платформата. Публикувайте само данни, които желаете да бъдат видими.</p>

  <hr />

  <h2 id="cookies">ПОЛИТИКА ЗА БИСКВИТКИ</h2>

  <h3>1. Какво са „бисквитки“</h3>
  <p>„Бисквитките“ (cookies) са малки текстови файлове, които се съхраняват на вашето устройство при посещение на уебсайтове. Те позволяват разпознаване на браузъра, запазване на предпочитания и подпомагат функционалността и анализа.</p>

  <h3>2. Видове бисквитки, които може да използваме</h3>
  <ul>
    <li><strong>Строго необходими (задължителни):</strong> за логин, сигурност, основна функционалност. Без тях сайтът може да не работи коректно.</li>
    <li><strong>Функционални:</strong> запомнят предпочитания (език, филтри, изгледи), ако има такива.</li>
    <li><strong>Аналитични (статистически):</strong> измерват посещаемост и поведение (напр. чрез Google Analytics или еквивалент).</li>
    <li><strong>Маркетингови:</strong> за персонализирани реклами/ремаркетинг (напр. Meta/Google), ако използвате.</li>
  </ul>

  <h3>3. Бисквитки на трети страни</h3>
  <p>Платформата може да използва услуги на трети страни (аналитични/маркетингови), които поставят свои бисквитки. Тези доставчици действат като отделни администратори/обработващи според собствените си политики.</p>

  <h3>4. Управление и отказ от бисквитки</h3>
  <p>Можете да управлявате бисквитките чрез:</p>
  <ul>
    <li>банер/център за предпочитания за бисквитки (ако е наличен в Платформата);</li>
    <li>настройките на браузъра (изтриване/блокиране на бисквитки).</li>
  </ul>
  <p class="small">Възможно е ограничаването на бисквитките да повлияе на функционалността на Платформата (напр. оставане „вписан“, предпочитания).</p>

  <h3>5. Срок на съхранение</h3>
  <p>Бисквитките могат да бъдат „сесийни“ (изтриват се при затваряне на браузъра) или „постоянни“ (остават за определен период). Конкретните срокове зависят от вида бисквитка и настройките на доставчика/Платформата.</p>

  <hr />

  <div class="box">
    <p><strong>Контакт</strong></p>
    <p>За въпроси относно тези условия, личните данни или бисквитките, пишете на: <strong>[email@domain.com]</strong></p>
    <p class="small">Препоръка: публикувайте отделни страници/маршрути в сайта (напр. <code>/terms</code>, <code>/privacy</code>, <code>/cookies</code>), но този документ може да стои и като „всичко-в-едно“, ако предпочитате.</p>
  </div>
</main>
`;

const LegalPage: React.FC = () => {
  useEffect(() => {
    const hash = window.location.hash;
    if (!hash) return;
    const target = document.querySelector(hash);
    if (!target) return;
    requestAnimationFrame(() => {
      target.scrollIntoView({ behavior: "auto", block: "start" });
    });
  }, []);

  return (
    <div className="legal-page">
      <style>{legalCss}</style>
      <div dangerouslySetInnerHTML={{ __html: legalContentHtml }} />
    </div>
  );
};

export default LegalPage;
